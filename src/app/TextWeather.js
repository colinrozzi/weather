import styles from './weatherApp.module.css';

export default function TextWeather({ weatherData }) {

  function formatDate(date) {
    date.setDate(date.getDate() + 1);
    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
    const dayOfWeek = days[date.getDay()];

    let dateOfMonth = date.getDate();
    let suffix = 'th';

    if (dateOfMonth === 1 || dateOfMonth === 21 || dateOfMonth === 31) {
      suffix = 'st';
    } else if (dateOfMonth === 2 || dateOfMonth === 22) {
      suffix = 'nd';
    } else if (dateOfMonth === 3 || dateOfMonth === 23) {
      suffix = 'rd';
    }

    return `${dayOfWeek} the ${dateOfMonth}${suffix}`;
  }

  const conditions = weatherData.days[0].conditions;
  const temperature = weatherData.days[0].temp;
  const wind = weatherData.days[0].windspeed;
  const rainChance = weatherData.days[0].precipprob;


  let rainString;
  if (weatherData.days[0].precipprob === 0) {
    rainString = 'no rain';
  } else {
    rainString = rainChance + '% chance rain';
  }
  const dateString = formatDate(new Date(weatherData.days[0].datetime));

  const sunSvg = (
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-5.0 -10.0 110.0 135.0">
      <g>
        <path d="m50 17.188c-18.125 0-32.812 14.688-32.812 32.812s14.688 32.812 32.812 32.812 32.812-14.688 32.812-32.812-14.688-32.812-32.812-32.812zm0 62.5c-16.406 0-29.688-13.281-29.688-29.688s13.281-29.688 29.688-29.688 29.688 13.281 29.688 29.688-13.281 29.688-29.688 29.688z" />
        <path d="m90.781 43.438c-1.4062-1.0938-2.9688-2.5-3.2812-3.5938s0.3125-2.9688 1.0938-4.8438c0.9375-2.6562 2.0312-5.4688 0.625-7.6562-1.25-2.3438-4.2188-2.8125-7.0312-3.2812-1.875-0.3125-3.9062-0.625-4.6875-1.5625-0.78125-0.78125-1.25-2.8125-1.5625-4.6875-0.46875-2.8125-1.0938-5.7812-3.2812-7.0312s-5-0.3125-7.6562 0.625c-1.875 0.625-3.75 1.4062-4.8438 1.0938s-2.3438-1.875-3.5938-3.2812c-1.875-2.1875-3.9062-4.5312-6.5625-4.5312s-4.6875 2.3438-6.5625 4.5312c-1.0938 1.4062-2.5 2.9688-3.5938 3.2812s-2.9688-0.3125-4.8438-1.0938c-2.6562-0.9375-5.4688-2.0312-7.6562-0.625-2.3438 1.25-2.8125 4.2188-3.2812 7.0312-0.3125 1.875-0.625 3.9062-1.5625 4.6875-0.78125 0.78125-2.8125 1.0938-4.6875 1.5625-2.8125 0.46875-5.7812 1.0938-7.0312 3.2812s-0.3125 5 0.625 7.6562c0.625 1.875 1.4062 3.75 1.0938 4.8438s-1.875 2.3438-3.2812 3.5938c-2.1875 1.875-4.5312 3.9062-4.5312 6.5625s2.3438 4.6875 4.5312 6.5625c1.4062 1.0938 2.9688 2.5 3.2812 3.5938s-0.3125 2.9688-1.0938 4.8438c-0.9375 2.6562-2.0312 5.4688-0.625 7.6562 1.25 2.3438 4.2188 2.8125 7.0312 3.2812 1.875 0.3125 3.9062 0.625 4.6875 1.5625 0.78125 0.78125 1.25 2.8125 1.5625 4.6875 0.46875 2.8125 1.0938 5.7812 3.2812 7.0312s5 0.3125 7.6562-0.625c1.875-0.625 3.75-1.4062 4.8438-1.0938s2.3438 1.875 3.5938 3.2812c1.875 2.1875 3.9062 4.5312 6.5625 4.5312s4.6875-2.3438 6.5625-4.5312c1.0938-1.4062 2.5-2.9688 3.5938-3.2812s2.9688 0.3125 4.8438 1.0938c2.6562 0.9375 5.4688 2.0312 7.6562 0.625 2.3438-1.25 2.8125-4.2188 3.2812-7.0312 0.3125-1.875 0.625-3.9062 1.5625-4.6875 0.78125-0.78125 2.8125-1.0938 4.6875-1.5625 2.8125-0.46875 5.7812-1.0938 7.0312-3.2812s0.3125-5-0.625-7.6562c-0.625-1.875-1.4062-3.75-1.0938-4.8438s1.875-2.3438 3.2812-3.5938c2.1875-1.875 4.5312-3.9062 4.5312-6.5625s-2.3438-4.6875-4.5312-6.5625zm-2.0312 10.625c-1.875 1.5625-3.75 3.125-4.2188 5.1562-0.625 2.0312 0.3125 4.5312 1.0938 6.7188 0.625 1.875 1.5625 4.0625 0.9375 5.1562s-2.9688 1.4062-5 1.7188c-2.3438 0.46875-4.8438 0.78125-6.4062 2.3438s-1.875 3.9062-2.3438 6.4062c-0.3125 2.0312-0.78125 4.375-1.7188 5s-3.125-0.15625-5.1562-0.9375c-2.3438-0.78125-4.6875-1.7188-6.7188-1.0938-2.0312 0.46875-3.5938 2.5-5.1562 4.2188-1.4062 1.5625-2.8125 3.4375-4.0625 3.4375s-2.8125-1.875-4.0625-3.4375c-1.5625-1.875-3.125-3.75-5.1562-4.2188-0.46875-0.15625-0.9375-0.15625-1.4062-0.15625-1.7188 0-3.5938 0.625-5.3125 1.25-1.875 0.625-4.0625 1.5625-5.1562 0.9375s-1.4062-2.9688-1.7188-5c-0.46875-2.3438-0.78125-4.8438-2.3438-6.4062s-3.9062-1.875-6.4062-2.3438c-2.0312-0.3125-4.375-0.78125-5-1.7188s0.15625-3.125 0.9375-5.1562c0.78125-2.3438 1.7188-4.6875 1.0938-6.7188-0.46875-2.0312-2.5-3.5938-4.2188-5.1562-1.5625-1.25-3.4375-2.8125-3.4375-4.0625s1.875-2.8125 3.4375-4.0625c1.875-1.5625 3.75-3.125 4.2188-5.1562 0.625-2.0312-0.3125-4.5312-1.0938-6.7188-0.625-1.875-1.5625-4.0625-0.9375-5.1562s2.9688-1.4062 5-1.7188c2.3438-0.46875 4.8438-0.78125 6.4062-2.3438s1.875-3.9062 2.3438-6.4062c0.3125-2.0312 0.78125-4.375 1.7188-5s3.125 0.15625 5.1562 0.9375c2.3438 0.78125 4.6875 1.7188 6.7188 1.0938 2.0312-0.46875 3.5938-2.5 5.1562-4.2188 1.25-1.5625 2.8125-3.4375 4.0625-3.4375s2.8125 1.875 4.0625 3.4375c1.5625 1.875 3.125 3.75 5.1562 4.2188 2.0312 0.625 4.5312-0.3125 6.7188-1.0938 1.875-0.625 4.0625-1.5625 5.1562-0.9375s1.4062 2.9688 1.7188 5c0.46875 2.3438 0.78125 4.8438 2.3438 6.4062s3.9062 1.875 6.4062 2.3438c2.0312 0.3125 4.375 0.78125 5 1.7188s-0.15625 3.125-0.9375 5.1562c-0.78125 2.3438-1.7188 4.6875-1.0938 6.7188 0.46875 2.0312 2.5 3.5938 4.2188 5.1562 1.5625 1.4062 3.4375 2.8125 3.4375 4.0625s-1.875 2.8125-3.4375 4.0625z" />
      </g>
    </svg>
  );

  const rainSvg = (
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="-5.0 -10.0 110.0 135.0">
      <g>
        <path d="m61.219 46.25c3.4102-8.3594-5.0273-17.258-13.492-13.996-1.6719-4.7539-6.1328-8.0352-11.262-8.0352-5.2031 0-9.668 3.3047-11.293 8.1133-6.7891-2.8125-14.664 2.5977-14.52 9.9961 0 1.2617 0.22266 2.5117 0.64844 3.6914-3.1133 1.9375-5.0547 5.3828-5.0547 9.1523 0.10156 7.0156 5.9062 11.41 12.625 10.75 2.0664-0.046875 2.043-3.0859 0-3.125h-2c-4.1367 0-7.5-3.4219-7.5-7.625 0-3.0625 1.7969-5.8164 4.5742-7.0195 0.40234-0.17578 0.71484-0.50781 0.85547-0.92578 0.14453-0.41406 0.10547-0.86719-0.10156-1.2539-0.60156-1.1133-0.92188-2.3711-0.92188-3.6445 0-4.1953 3.3711-7.6094 7.5156-7.6094 1.457 0 2.8594 0.41797 4.0625 1.2109 0.44531 0.29297 1.0078 0.33984 1.4922 0.125 0.48438-0.21484 0.82812-0.66406 0.91016-1.1875 0.67969-4.3594 4.3398-7.5234 8.707-7.5234 4.2773 0 7.9375 3.1055 8.6953 7.3828 0.12109 0.44531 0.27734 0.6875 0.625 0.99219 0.49219 0.36719 1.1992 0.36719 1.7148 0.066406 4.8359-3.0547 11.473 0.80078 11.336 6.543 0.035156 3.0703-1.9609 6.0469-4.8359 7.125-1.918 0.77734-0.77734 3.6289 1.1289 2.9141 1.7891-0.69531 3.3438-1.8789 4.5234-3.3828 5.8789 4.1211 2.8945 13.879-4.3438 13.812h-30.844c-2.043 0.023437-2.0625 3.0938 0 3.125h30.844c10.445 0.007813 14.539-13.891 5.9062-19.672z" />
        <path d="m89.023 31.551c3.418-8.3594-5.0234-17.262-13.488-14-1.6562-4.75-6.1133-8.0312-11.254-8.0312-5.1953 0-9.6602 3.3047-11.301 8.1055-4.0156-1.6523-8.9375-0.48047-11.789 2.793-1.3398 1.5352 0.95703 3.5977 2.332 2.0781 2.3398-2.7109 6.668-3.3086 9.625-1.2695 0.90234 0.64063 2.2695 0.039063 2.4102-1.0547 1.6094-9.8555 15.621-9.9844 17.402-0.16406 0.097656 0.3125 0.20703 0.62891 0.47266 0.83594 0.32812 0.375 0.90625 0.53906 1.3906 0.41406 1.3789-0.59766 2.7539-1.3242 4.3125-1.2422 8.2891 0.058594 10.375 11.699 2.6758 14.738-1.6055 0.59375-1.1133 3.0547 0.56641 3.0195 2.043-0.41016 3.7812-1.9102 5.0859-3.4883 5.9023 4.1133 2.8906 13.867-4.3516 13.797h-14.359c-2.0469 0.023438-2.0547 3.0977 0 3.125h14.359c10.449 0.011719 14.566-13.879 5.9141-19.652z" />
        <path d="m17.465 72.57c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m27.262 72.57c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m37.059 72.57c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m46.855 72.57c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m56.652 72.57c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m22.598 83.746c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m32.395 83.746c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m42.191 83.746c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m51.988 83.746c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m74.887 55.398c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m84.684 55.398c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m70.223 66.574c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625 0.86328 0 1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
        <path d="m80.02 66.574c-0.86328 0-1.5625 0.69922-1.5625 1.5625v3.6211c0 0.86328 0.69922 1.5625 1.5625 1.5625s1.5625-0.69922 1.5625-1.5625v-3.6211c0-0.86328-0.69922-1.5625-1.5625-1.5625z" />
      </g>
    </svg>
  );

  const cloudSvg = (
    <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 68 85" x="0px" y="0px">
      <title>Artboard 3@5x</title>
      <path d="M18.77,44.11H8.65a6.68,6.68,0,0,1-1-13.28,6.68,6.68,0,0,1,6.65-6.63,6.79,6.79,0,0,1,1.68.22A6.65,6.65,0,0,1,28.87,23a6.48,6.48,0,0,1,2-.31,6.61,6.61,0,0,1,5.21,2.51,1,1,0,0,1-.24,1.46,4.65,4.65,0,0,0-2.14,3.94,4.55,4.55,0,0,0,0,.52,1,1,0,0,1-1.45,1,4.74,4.74,0,0,0-2.22-.55,4.66,4.66,0,0,0-4.65,4.67,4.11,4.11,0,0,0,.06.72,1,1,0,0,1-1.11,1.16,4.66,4.66,0,0,0-4.61,4.67V43a1,1,0,0,1-1,1.13ZM8.61,32.76a4.68,4.68,0,0,0,0,9.35h9.14a6.69,6.69,0,0,1,5.63-5.92,6.67,6.67,0,0,1,6.65-6.62,6.84,6.84,0,0,1,1.68.21,6.62,6.62,0,0,1,2-4.09,4.73,4.73,0,0,0-5.14-.47,1,1,0,0,1-1.46-.73,4.66,4.66,0,0,0-9.26.71,4.55,4.55,0,0,0,0,.53,1,1,0,0,1-1.45,1,4.83,4.83,0,0,0-2.22-.55,4.67,4.67,0,0,0-4.65,4.68,4.2,4.2,0,0,0,.06.72,1,1,0,0,1-.32.91A1,1,0,0,1,8.61,32.76Z" />
      <path d="M59.33,49.48H24.41a6.68,6.68,0,0,1-1-13.29,6.68,6.68,0,0,1,6.65-6.63,6.79,6.79,0,0,1,1.68.22,6.65,6.65,0,0,1,12.88-1.45,6.84,6.84,0,0,1,2-.31A6.72,6.72,0,0,1,53,32.51a6.7,6.7,0,0,1,5.78,3.64,6.68,6.68,0,1,1,.6,13.33Zm-35-11.36a4.68,4.68,0,0,0,0,9.36H59.33a4.68,4.68,0,1,0-1-9.25,1,1,0,0,1-1.15-.64,4.69,4.69,0,0,0-4.39-3.08,3.15,3.15,0,0,0-.44,0,1,1,0,0,1-1.14-.79A4.71,4.71,0,0,0,46.63,30a4.65,4.65,0,0,0-2.21.56A1,1,0,0,1,43,29.84a4.65,4.65,0,0,0-9.22,1.25,1,1,0,0,1-.41,1,1,1,0,0,1-1,.07,4.84,4.84,0,0,0-2.22-.56,4.67,4.67,0,0,0-4.65,4.68,4.2,4.2,0,0,0,.06.72,1,1,0,0,1-1.11,1.16Z" />
    </svg>
  )

  let selectedIcon;
  if (weatherData.days[0].icon === 'rain') {
    selectedIcon = rainSvg;
  } else if (weatherData.days[0].icon === 'cloud') {
    selectedIcon = cloudSvg;
  } else {
    selectedIcon = sunSvg;
  }

  const dateElement = <h3>{dateString}</h3>
  const tempConditionsElement = <p>{conditions} {temperature}℉</p>
  const windElement = <p style={{ fontSize: '0.75rem' }}>winds {wind}mph</p>
  const rainElement = <p style={{ fontSize: '0.75rem' }}>{rainString}</p>
  const weatherIcon = <div style={{ width: '50px', height: '50px' }}>{selectedIcon}</div>

  return (
    <div className={styles.textWeather}>
      <div className={styles.dateElement}>
        {dateElement}
      </div>
      <div className={styles.weatherContent}>
        <div className={styles.weatherLogo}>
          {weatherIcon}
        </div>
        <div className={styles.weatherInfo}>
          {tempConditionsElement}
          {windElement}
          {rainElement}
        </div>
      </div>
    </div>
  );
}